<!DOCTYPE html>
<html>
<head>
    <meta name="description" content="Web Bluetooth control for Ozone sensor">
    <link rel="icon" sizes="192x192" href="assets/favicon.png">
    <title>Giner Labs</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
<div class="nav-bar">
    <h2>Giner Ozone Sensor</h2>
</div>
<div id="status" class="container text-center">

    <div class="row summary_box" style="height: 60px;">
        <div class="col">Logging status:
            <span id="logging_status">Paused</span>
        </div>
        <div class="col">Last observation:
            <span class="col" id="last_obs_time">xx:xx:xx</span>
        </div>

    </div>
    <div class="row">
        <div class="col summary_box" >
            <div class="row"><div class="metric_title"> Current</div> </div>
            <div class="row metric_value" >
                <span id="measured_current" > XX</span>
                <span class="units">nA</span>  </div>
        </div>
        <div class="col summary_box" >
            <div class="row"><div class="metric_title"> Temperature </div></div>
            <div class="row metric_value">
                <span id="measured_temperature">XX </span>
                <span class="units">Â°F</span> </div>
        </div>
    </div>
    <div class="row">
        <div class="col summary_box">
            <div class="row"  style="margin-bottom: 20px;"><div class="metric_title"> Parameters </div></div>
            <div class="row" style="align-items:center; gap:12px;">
                <div class="col-sm-4">
                    <label for="input_vzero" class="form-label">Voltage - WE (V)</label>
                    <input id="input_vzero" type="number" step="0.01" class="form-control" placeholder="e.g. 1.50" />
                </div>
                <div class="col-sm-4">
                    <label for="input_vbias" class="form-label">Voltage - CE (V)</label>
                    <input id="input_vbias" type="number" step="0.01" class="form-control" placeholder="e.g. 0.20" />
                </div>
                <div class="col-sm-4" style="display:flex; align-items:end;">
                    <button id="send_values_button" class="button" type="button">Send Values</button>
                    <span id="send_values_status" style="margin-left:12px; color:#444;"></span>
                    <button id="restart_button" class="button" type="button">Restart</button>
                    <span id="restart_status" style="margin-left:12px; color:#444;"></span>
                </div>
            </div>
        </div>
    </div>
        <div class="row">
            <div class="col-12 summary_box">
                <div class="row"><div class="metric_title"> Measured Current Chart </div></div>
                <div style="height:400px;">
                    <div style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
                        <label style="font-size:0.9em;">Baseline (airPLS):</label>
                        <input id="baseline_lambda" type="number" step="1" value="100" style="width:80px;" title="Smoothing lambda"/>
                        <label for="baseline_porder" style="font-size:0.9em;">order</label>
                        <select id="baseline_porder" style="width:60px;">
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                        <label for="baseline_itermax" style="font-size:0.9em;">iter</label>
                        <input id="baseline_itermax" type="number" step="1" value="15" style="width:60px;"/>
                        <button id="apply_baseline_button" class="button" type="button">Apply baseline</button>
                        <label style="display:flex; align-items:center; gap:6px; margin-left:8px;"><input id="show_baseline_checkbox" type="checkbox"/> Show baseline</label>
                        <label style="display:flex; align-items:center; gap:6px; margin-left:8px;"><input id="auto_baseline_checkbox" type="checkbox"/> Auto</label>
                    </div>
                    <canvas id="measured_current_chart" style="width:100%; height:100%; display:block;"></canvas>
                </div>
            </div>
        </div>
<div class="navbar fixed-bottom bg-light">
    <div id="connect_button" class="button col" role="button">Connect</div>
    <div id="start_stop_logging_button" class="button col" role="button">Start Logging</div>
</div>

</body>
<footer>
    <!-- CSS only -->
    <link href="libs/bootstrap.min.css" rel="stylesheet">
    <!-- JavaScript Bundle with Popper -->
    <script src="libs/bootstrap.bundle.min.js"></script>
    <script src="libs/chart.umd.min.js"></script>
    <script src="app.js"></script>
</footer>
</html>
